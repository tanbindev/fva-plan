(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(Q){var B=Q.defaultOptions,j=Q.doc,A=Q.Chart,v=Q.addEvent,e=Q.removeEvent,k=Q.fireEvent,D=Q.createElement,u=Q.discardElement,i=Q.css,q=Q.merge,s=Q.pick,P=Q.each,r=Q.objectEach,l=Q.extend,h=Q.win,g=h.navigator.userAgent,o=Q.SVGRenderer,d=Q.Renderer.prototype.symbols,c=/Edge\/|Trident\/|MSIE /.test(g),b=/firefox/i.test(g);l(B.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});B.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};B.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:"printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}};Q.post=function(m,f,n){var p=D("form",q({method:"post",action:m,enctype:"multipart/form-data"},n),{display:"none"},j.body);r(f,function(w,t){D("input",{type:"hidden",name:t,value:w},null,p)});p.submit();u(p)};l(A.prototype,{sanitizeSVG:function(m,f){if(f&&f.exporting&&f.exporting.allowHTML){var n=m.match(/<\/svg>(.*?$)/);n&&n[1]&&(n='\x3cforeignObject x\x3d"0" y\x3d"0" width\x3d"'+f.chart.width+'" height\x3d"'+f.chart.height+'"\x3e\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+n[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",m=m.replace("\x3c/svg\x3e",n+"\x3c/svg\x3e"))}return m=m.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href\x3d").replace(/\n/," ").replace(/<\/svg>.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1\x3d"rgb($2)" $1-opacity\x3d"$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad")},getChartHTML:function(){this.inlineStyles();return this.container.innerHTML},getSVG:function(m){var f,w,x,p,n,t=q(this.options,m);w=D("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},j.body);x=this.renderTo.style.width;n=this.renderTo.style.height;x=t.exporting.sourceWidth||t.chart.width||/px$/.test(x)&&parseInt(x,10)||600;n=t.exporting.sourceHeight||t.chart.height||/px$/.test(n)&&parseInt(n,10)||400;l(t.chart,{animation:!1,renderTo:w,forExport:!0,renderer:"SVGRenderer",width:x,height:n});t.exporting.enabled=!1;delete t.data;t.series=[];P(this.series,function(y){p=q(y.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:y.visible});p.isInternal||t.series.push(p)});P(this.axes,function(y){y.userOptions.internalKey||(y.userOptions.internalKey=Q.uniqueKey())});f=new Q.Chart(t,this.callback);m&&P(["xAxis","yAxis","series"],function(z){var y={};m[z]&&(y[z]=m[z],f.update(y))});P(this.axes,function(y){var E=Q.find(f.axes,function(F){return F.options.internalKey===y.userOptions.internalKey}),z=y.getExtremes(),C=z.userMin,z=z.userMax;!E||void 0===C&&void 0===z||E.setExtremes(C,z,!0,!1)});x=f.getChartHTML();x=this.sanitizeSVG(x,t);t=null;f.destroy();u(w);return x},getSVGForExport:function(m,f){var n=this.options.exporting;return this.getSVG(q({chart:{borderRadius:0}},n.chartOptions,f,{exporting:{sourceWidth:m&&m.sourceWidth||n.sourceWidth,sourceHeight:m&&m.sourceHeight||n.sourceHeight}}))},exportChart:function(m,f){f=this.getSVGForExport(m,f);m=q(this.options.exporting,m);Q.post(m.url,{filename:m.filename||"chart",type:m.type,width:m.width||0,scale:m.scale,svg:f},m.formAttributes)},print:function(){var C=this,z=C.container,x=[],y=z.parentNode,t=j.body,n=t.childNodes,p=C.options.exporting.printMaxWidth,w,m;if(!C.isPrinting){C.isPrinting=!0;C.pointer.reset(null,0);k(C,"beforePrint");if(m=p&&C.chartWidth>p){w=[C.options.chart.width,void 0,!1],C.setSize(p,void 0,!1)}P(n,function(E,f){1===E.nodeType&&(x[f]=E.style.display,E.style.display="none")});t.appendChild(z);h.focus();h.print();setTimeout(function(){y.appendChild(z);P(n,function(E,f){1===E.nodeType&&(E.style.display=x[f])});C.isPrinting=!1;m&&C.setSize.apply(C,w);k(C,"afterPrint")},1000)}},contextMenu:function(G,F,C,E,I,w,y){var z=this,t=z.chartWidth,n=z.chartHeight,m="cache-"+G,x=z[m],p=Math.max(I,w),f,H;x||(z[m]=x=D("div",{className:G},{position:"absolute",zIndex:1000,padding:p+"px"},z.container),f=D("div",{className:"highcharts-menu"},null,x),H=function(){i(x,{display:"none"});y&&y.setState(0);z.openMenu=!1},z.exportEvents.push(v(x,"mouseleave",function(){x.hideTimer=setTimeout(H,500)}),v(x,"mouseenter",function(){clearTimeout(x.hideTimer)}),v(j,"mouseup",function(J){z.pointer.inClass(J.target,G)||H()})),P(F,function(K){"string"===typeof K&&(K=z.options.exporting.menuItemDefinitions[K]);if(Q.isObject(K,!0)){var J;J=K.separator?D("hr",null,null,f):D("div",{className:"highcharts-menu-item",onclick:function(L){L&&L.stopPropagation();H();K.onclick&&K.onclick.apply(z,arguments)},innerHTML:K.text||z.options.lang[K.textKey]},null,f);z.exportDivElements.push(J)}}),z.exportDivElements.push(f,x),z.exportMenuWidth=x.offsetWidth,z.exportMenuHeight=x.offsetHeight);F={display:"block"};C+z.exportMenuWidth>t?F.right=t-C-I-p+"px":F.left=C-p+"px";E+w+z.exportMenuHeight>n&&"top"!==y.alignOptions.verticalAlign?F.bottom=n-E-p+"px":F.top=E+w-p+"px";i(x,F);z.openMenu=!0},addButton:function(I){var H=this,F=H.renderer,G=q(H.options.navigation.buttonOptions,I),C=G.onclick,x=G.menuItems,z,E,w=G.symbolSize||12;H.btnCount||(H.btnCount=0);H.exportDivElements||(H.exportDivElements=[],H.exportSVGElements=[]);if(!1!==G.enabled){var p=G.theme,n=p.states,y=n&&n.hover,n=n&&n.select,t;delete p.states;C?t=function(f){f.stopPropagation();C.call(H,f)}:x&&(t=function(){H.contextMenu(E.menuClassName,x,E.translateX,E.translateY,E.width,E.height,E);E.setState(2)});G.text&&G.symbol?p.paddingLeft=s(p.paddingLeft,25):G.text||l(p,{width:G.width,height:G.height,padding:0});E=F.button(G.text,0,0,t,p,y,n).addClass(I.className).attr({title:H.options.lang[G._titleKey],zIndex:3});E.menuClassName=I.menuClassName||"highcharts-menu-"+H.btnCount++;G.symbol&&(z=F.symbol(G.symbol,G.symbolX-w/2,G.symbolY-w/2,w,w).addClass("highcharts-button-symbol").attr({zIndex:1}).add(E));E.add().align(l(G,{width:E.width,x:s(G.x,H.buttonOffset)}),!0,"spacingBox");H.buttonOffset+=(E.width+G.buttonSpacing)*("right"===G.align?-1:1);H.exportSVGElements.push(E,z)}},destroyExport:function(n){var m=n?n.target:this;n=m.exportSVGElements;var t=m.exportDivElements,w=m.exportEvents,p;n&&(P(n,function(f,x){f&&(f.onclick=f.ontouchstart=null,p="cache-"+f.menuClassName,m[p]&&delete m[p],m.exportSVGElements[x]=f.destroy())}),n.length=0);t&&(P(t,function(f,x){clearTimeout(f.hideTimer);e(f,"mouseleave");m.exportDivElements[x]=f.onmouseout=f.onmouseover=f.ontouchstart=f.onclick=null;u(f)}),t.length=0);w&&(P(w,function(f){f()}),w.length=0)}});o.prototype.inlineToAttributes="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");o.prototype.inlineBlacklist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/];o.prototype.unstyledElements=["clipPath","defs","desc"];A.prototype.inlineStyles=function(){function y(C){return C.replace(/([A-Z])/g,function(F,E){return"-"+E.toLowerCase()})}function x(J){function C(N,O){H=M=!1;if(m){for(G=m.length;G--&&!M;){M=m[G].test(O)}H=!M}"transform"===O&&"none"===N&&(H=!0);for(G=z.length;G--&&!H;){H=z[G].test(O)||"function"===typeof N}H||E[O]!==N&&p[J.nodeName][O]!==N&&(-1!==w.indexOf(O)?J.setAttribute(y(O),N):F+=y(O)+":"+N+";")}var I,E,F="",L,H,M,G;if(1===J.nodeType&&-1===n.indexOf(J.nodeName)){I=h.getComputedStyle(J,null);E="svg"===J.nodeName?{}:h.getComputedStyle(J.parentNode,null);p[J.nodeName]||(f||(f=j.createElementNS(Q.SVG_NS,"svg"),f.setAttribute("version","1.1"),j.body.appendChild(f)),L=j.createElementNS(J.namespaceURI,J.nodeName),f.appendChild(L),p[J.nodeName]=q(h.getComputedStyle(L,null)),f.removeChild(L));if(b||c){for(var K in I){C(I[K],K)}}else{r(I,C)}F&&(I=J.getAttribute("style"),J.setAttribute("style",(I?I+";":"")+F));"svg"===J.nodeName&&J.setAttribute("stroke-width","1px");"text"!==J.nodeName&&P(J.children||J.childNodes,x)}}var t=this.renderer,w=t.inlineToAttributes,z=t.inlineBlacklist,m=t.inlineWhitelist,n=t.unstyledElements,p={},f;x(this.container.querySelector("svg"));f.parentNode.removeChild(f)};d.menu=function(m,f,n,p){return["M",m,f+2.5,"L",m+n,f+2.5,"M",m,f+p/2+0.5,"L",m+n,f+p/2+0.5,"M",m,f+p-1.5,"L",m+n,f+p-1.5]};A.prototype.renderExporting=function(){var m=this,f=m.options.exporting,n=f.buttons,p=m.isDirtyExporting||!m.exportSVGElements;m.buttonOffset=0;m.isDirtyExporting&&m.destroyExport();p&&!1!==f.enabled&&(m.exportEvents=[],r(n,function(t){m.addButton(t)}),m.isDirtyExporting=!1);v(m,"destroy",m.destroyExport)};A.prototype.callbacks.push(function(f){f.renderExporting();v(f,"redraw",f.renderExporting);P(["exporting","navigation"],function(m){f[m]={update:function(n,p){f.isDirtyExporting=!0;q(!0,f.options[m],n);s(p,!0)&&f.redraw()}}})})})(a)});